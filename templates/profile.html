<!doctype html>

{% extends "layout_with_flashes.html" %}

{% block content %}

<h2>Käyttäjäprofiili</h2>

<!--
    TODO:
    - show list of created notices
-->

{% if session.user_id %}

<form action="/update_profile" method="post">
    Voit täyttää vain ne tiedot, jotka haluat muuttaa.
    <br>
    Tyhjäksi jätetyt kentät säilyvät ennallaan (paitsi ylläpitäjän rooli).
    <br>
    <br>
    
    <label for="date_of_birth">Syntymäaika: {{ session.date_of_birth }}</label>
    <br>
    <input class="input text-small" type="date" id="date_of_birth" name="date_of_birth">
    <br>
    <br>

    <label for="gender">Sukupuoli: {{ session.gender }}</label>
    <div class="radio-button-group">
        <div class="radio-button">
            <input type="radio" id="female" name="gender" value="female">
            <label for="female">nainen</label>
        </div>
        <br>
        <div class="radio-button">
            <input type="radio" id="male" name="gender" value="male">
            <label for="male">mies</label>
        </div>
        <br>
        <div class="radio-button">
            <input type="radio" id="other" name="gender" value="other">
            <label for="other">muu</label>
        </div>
    </div>
    <br>

    <label for="zip_code">Postinumero: {{ session.zip_code }}</label>
    <br>
    <input class="input text-small" type="text" id="zip_code" name="zip_code" maxlength="5">
    <br>
    <br>

    <label for="is_admin">Ylläpitäjä: {{ session.is_admin }}</label>
    <br>
    <input class="input" type="checkbox" id="is_admin" name="is_admin">
    <br>

    <input class="input" type="submit" value="Päivitä tiedot">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
</form>

<br>

<form action="/delete_current_user" method="post">

<button class="input" name="user_id" value="{{ session.user_id }}" type="submit">Poista käyttäjätili</button>
<input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

</form>

{% endif %}


<form action="/logout">
    <input class="input" type="submit" value="Kirjaudu ulos" />
</form>

<form action="/">
    <input class="input" type="submit" value="Takaisin" />
</form>

{% endblock %}
